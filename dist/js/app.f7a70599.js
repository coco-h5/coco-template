(function(e){function t(t){for(var o,i,a=t[0],s=t[1],p=t[2],d=0,f=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(f.length)f.shift()();return c.push.apply(c,p||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,a=1;a<n.length;a++){var s=n[a];0!==r[s]&&(o=!1)}o&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},c=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var p=0;p<a.length;p++)t(a[p]);var u=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("4b77")},1:function(e,t){},"1b43":function(e,t,n){var o={"./coco-banner/package.json":"59c4","./coco-form/package.json":"c3e1"};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=c,e.exports=r,r.id="1b43"},3234:function(e){e.exports=JSON.parse('{"schema":{"type":"object","title":"页面配置","properties":{"background":{"type":"string","title":"页面背景色","format":"color"},"title":{"type":"string","title":"页面标题"}}},"data":{"title":"coco-template"}}')},"37b7":function(e,t,n){var o={"./package.json":"3234"};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=c,e.exports=r,r.id="37b7"},"4b77":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("c8ba"),n("5961"),n("7ecd"),n("0185");var o=n("8bbf"),r=n.n(o),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("CocoComponent",[n("coco-banner",{attrs:{obj:{src:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}}}),n("coco-form")],1)],1)},i=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loaded?n("div",{staticClass:"slider-view",attrs:{id:"slider-view"}},e._l(e.components,(function(t,o){return n("div",{key:o,attrs:{"data-layout":t.props&&t.props._layout,id:"coco-render-id-_component_"+o}},[n(t.name,{key:t+o,tag:"div",attrs:{obj:t.props||{},config:t.config},on:{onRemoteComponentLoad:e.remoteComponentLoad}})],1)})),0):e._e()},s=[],p=n("a19a"),u=n("c1f9"),d=(n("59d7"),n("28fd"),n("a9b6"),n("3e22"),n("44ad"),n("c284"),n("57b6"),n("8d1b"),n("16e1"),n("d4f9"),n("3fab"),n("ed02"),n("89cf"),n("9d16"),n("7c78")),f=n("3508"),l=n.n(f),m=n("110b"),h=n.n(m);function b(){var e=[],t=n("1b43");return t.keys().forEach((function(n){var o=t(n);e.push(o)})),e}function g(){var e={},t=n("37b7");return t.keys().forEach((function(n){var o=t(n);e=o})),e}function v(e){var t=n("ffe0");t.keys().forEach((function(n){var o=t(n),r=l()(h()(n.split("/")[1].replace(/\.\w+$/,"")));e.component(r,o.default||o)}))}v(r.a);var y={componentConfig:b(),pageConfig:g()},j=Object(d["parse"])(location.href.split("?")[1])||{},x="true"===j.isEdit,O="true"===j.isPreview,_=j.env,w=j.pageId,C={development:"http://dev.api.com",production:""}[_];function k(e){window.parent.postMessage(e,"*")}function E(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.withCredentials=!0,n.responseType="json",n.onreadystatechange=function(){4===n.readyState&&200===n.status&&t(n.response)},n.send(null)}var I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.component?n(e.component,{tag:"div",attrs:{obj:e.obj}}):e._e()},S=[],P={name:"coco-remote-component-loader",props:{obj:{type:Object,default:function(){}},config:{}},data:function(){return{data:{},component:""}},created:function(){var e=this,t=this.config,n=t.name,o=t.js,c=t.css,i=t.index,a=window[n];if(a)this.$emit("onRemoteComponentLoad",Object(p["a"])(Object(p["a"])({},window[n]),{},{index:i})),this.$nextTick((function(){e.component=r.a.extend(window[n].Component)}));else{var s=document.createElement("script"),u=document.createElement("link");s.src=o,u.href=c,u.rel="stylesheet",document.head.appendChild(u),document.body.appendChild(s),s.onload=function(){e.$emit("onRemoteComponentLoad",Object(p["a"])(Object(p["a"])({},window[n]),{},{index:i})),e.component=r.a.extend(window[n].Component)}}},watch:{"config.name":function(){this.component=r.a.extend(window[this.config.name].Component)}}},N=P,U=n("cba8"),L=Object(U["a"])(N,I,S,!1,null,null,null),$=L.exports;document.domain="coco-h5.cn";var T={name:"coco-component",data:function(){return{init:!1,loaded:!1,sortOption:{group:{name:"components",pull:!0,put:!0},sort:!0,animation:200},isEdit:x,components:window.__coco_config__.components.length?window.__coco_config__.components:this.$slots.default.map((function(e){var t,n=e.componentOptions.tag,o=y.componentConfig.filter((function(e){return e.name===n}))[0].data;return{name:n,props:(null===(t=e.componentOptions.propsData)||void 0===t?void 0:t.obj)||o}})),componentConfig:y.componentConfig,currentIndex:0,remoteComponents:[],page:{schema:y.pageConfig.schema,props:window.__coco_config__.pageData&&window.__coco_config__.pageData.props||y.pageConfig.data}}},created:function(){var e=this;O&&C&&w?E("".concat(C,"/project/preview?id=").concat(w),(function(t){e.components=t.result.components,e.page=t.result.pageData,e.$emit("init",e.page.props),e.loaded=!0})):(this.loaded=!0,this.$emit("init",this.page.props),x&&window.addEventListener("message",(function(t){t.source!==window&&"loaded"!==t.data&&(e.isEdit=!0,e[t.data.type](t.data.data))})))},methods:{setConfig:function(e){this.components=e.userSelectComponents,this.page=e.page,this.getConfig()},getConfig:function(){this.init=!0,k({type:"returnConfig",data:{components:this.componentConfig,userSelectComponents:this.components,currentIndex:this.currentIndex,remoteComponents:this.remoteComponents,page:this.page}})},reset:function(e){var t=e.userSelectComponents,n=e.currentIndex,o=e.page;this.components=t,this.currentIndex=n,this.page=o,this.$emit("init",this.page.props)},remoteComponentLoad:function(e){var t=e.config,n=e.index;if(this.isEdit){var o=this.remoteComponents.filter((function(e){return"".concat(t.name,".").concat(t.version)==="".concat(e.name,".").concat(e.version)}))[0];o||this.remoteComponents.push(t),this.components.forEach((function(e){e.config&&e.config.index===n&&(e.props=e.props||t.data)})),this.init&&this.getConfig()}},addComponent:function(e){var t=e.data,n=e.index;this.currentIndex=n?n+1:n,t.schema?(this.components=[].concat(Object(u["a"])(this.components.slice(0,this.currentIndex)),[{name:t.name,props:t.data}],Object(u["a"])(this.components.slice(this.currentIndex,this.components.length))),this.getConfig()):this.components=[].concat(Object(u["a"])(this.components.slice(0,this.currentIndex)),[{name:"coco-components-loader",props:null,config:Object(p["a"])(Object(p["a"])({},t),{},{index:this.currentIndex})}],Object(u["a"])(this.components.slice(this.currentIndex,this.components.length)))},changeProps:function(e){"__page"===e.type?(this.page.props=e,this.$emit("init",this.page.props)):this.$set(this.components[this.currentIndex],"props",e),this.getConfig()},changeIndex:function(e){this.currentIndex=e,this.getConfig()},deleteComponent:function(e){this.components.splice(e,1),this.changeIndex(e-1<0?0:e-1)},sortComponent:function(e){var t=e.index,n=e.op,o=JSON.parse(JSON.stringify(this.components)),r=o[t],c=t+n;o[t]=o[c],o[c]=r,this.components=o,this.changeIndex(c)},copyComponent:function(e){this.components=[].concat(Object(u["a"])(this.components.slice(0,e)),[JSON.parse(JSON.stringify(this.components[e]))],Object(u["a"])(this.components.slice(e,this.components.length))),this.changeIndex(e+1)}},components:{CocoComponentsLoader:$}},D=T,J=Object(U["a"])(D,a,s,!1,null,null,null),V=J.exports,M=n("befc"),R=n("bd8c"),q=n("4ff3"),z=n.n(q),Z=(n("3f27"),function(){var e="mock",t=location.host;return e=x||"mock"===Object({NODE_ENV:"production",VUE_APP_API:"http://qa.api.com/api/",BASE_URL:""}).VUE_APP_ENV?"mock":/\.dev\.|\d+\.\d+\.|localhost/.test(t)?"dev":/\.qa\./.test(t)?"qa":/\.pre\./.test(t)?"pre":"pro",e}),A=Z(),F=z.a.create({baseURL:"http://qa.api.com/api/",timeout:3e4,withCredentials:!0}),W=function(e){var t=e.url,o=e.method,r=e.params,c=e.config,i=void 0===c?{}:c;if("mock"===A){var a=t.replace(/\//g,"^"),s=n("6a06")("./".concat(a).concat(o,".json"));return Promise.resolve(s)}return F[o.toLocaleLowerCase()](t,r,i)},B=W,G=function(e){var t="api/1.0.0/getCampaignInfo";return B({url:t,method:"Post",params:e})},H={name:"App",components:{CocoBanner:M["default"],CocoForm:R["default"],CocoComponent:V},mounted:function(){G().then((function(e){console.log(e)}))}},X=H,K=(n("034f"),Object(U["a"])(X,c,i,!1,null,null,null)),Q=K.exports,Y=n("8d89");n("5734");function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:375,t=document.documentElement;t.clientWidth>=600?t.style.fontSize="80px":t.style.fontSize=t.clientWidth/e*100+"px",document.body.style.fontSize="16px"}ee(),window.addEventListener("resize",(function(){return ee()})),r.a.use(Y["a"]),r.a.config.productionTip=!1,new r.a({render:function(e){return e(Q)}}).$mount("#app")},"59c4":function(e){e.exports=JSON.parse('{"name":"coco-banner","description":"banner 组件","snapshot":"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png","schema":{"type":"object","properties":{"src":{"title":"图片地址","type":"string","format":"image"},"link":{"title":"跳转链接","type":"string","format":"url"}},"required":["src"]},"data":{"src":"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}}')},"6a06":function(e,t,n){var o={"./api^1.0.0^getCampaignInfoPost.json":"e414"};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=c,e.exports=r,r.id="6a06"},"8bbf":function(e,t){e.exports=Vue},bd8c:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-form",{on:{submit:e.onSubmit}},[n("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("van-field",{attrs:{type:"phone",name:"手机号",label:"手机号",placeholder:"手机号"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),n("van-field",{attrs:{type:"address",name:"地址",label:"地址",placeholder:"地址"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v(e._s(e.obj.btnText))])],1)],1)},r=[],c={props:{obj:{type:Object,default:function(){}}},data:function(){return{username:"",address:"",phone:""}},methods:{onSubmit:function(e){console.log("submit",e)}}},i=c,a=n("cba8"),s=Object(a["a"])(i,o,r,!1,null,"857f5798",null);t["default"]=s.exports},befc:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",[n("img",{attrs:{src:e.obj.src,width:"100%",alt:"图片"}})])},r=[],c={name:"banner",props:{obj:{type:Object,default:function(){}}}},i=c,a=n("cba8"),s=Object(a["a"])(i,o,r,!1,null,null,null);t["default"]=s.exports},c3e1:function(e){e.exports=JSON.parse('{"name":"coco-form","description":"form 组件","snapshot":"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c69eef4e997843ea84929b1c0e2a2fdf~tplv-k3u1fbpfcp-watermark.image","schema":{"type":"object","properties":{"btnText":{"title":"按钮文案","type":"string"},"action":{"title":"提交接口地址","type":"string","format":"url"}},"required":["btnText"]},"data":{"btnText":"提交"}}')},e414:function(e){e.exports=JSON.parse('{"type":"mock","user":{}}')},ffe0:function(e,t,n){var o={"./coco-banner/index.vue":"befc","./coco-form/index.vue":"bd8c"};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=c,e.exports=r,r.id="ffe0"}});
//# sourceMappingURL=app.f7a70599.js.map